<div ng-controller="DormPageController">

    <super-navbar>
        <super-navbar-button side="right" location="review#review?id={{dorm.id}}">Review</super-navbar-button>
        <super-navbar-title>
            {{dorm.name}}
        </super-navbar-title>
    </super-navbar>

    <link rel="stylesheet" href="styles/dormPage.css">

    <div>
        <div class="images">
            <img ng-src="{{dorm.img}}"/>
        </div>
        <div class="address">
            <p>{{dorm.address | uppercase}}</p>
        </div>

        <section>

            <ul class="row">
                <li class="tab col col-33" ng-click="setTab(1)" ng-class="{ active: isSet(1) }">
                    <div><strong>Stats&Info</strong></div>
                </li>
                <li class="tab col col-33" ng-click="setTab(2)" ng-class="{ active: isSet(2) }">
                    <div><strong>Rate</strong></div>
                </li>
                <li class="tab col col-33" ng-click="setTab(3)" ng-class="{ active: isSet(3) }">
                    <div><strong>Reviews</strong></div>
                </li>
            </ul>

            <div ng-show="isSet(1)">
                <div class="padding">
                    <table>
                        <tr>
                            <td class="column-name"><strong>Location</strong></td>
                            <td class="column-data">{{dorm.location}} Campus</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Type</strong></td>
                            <td class="column-data">{{dorm.type}}</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Air Conditioning</strong></td>
                            <td class="column-data"><p ng-show="dorm.airconditioning">Yes</p><p ng-hide="dorm.airconditioning">No</p></td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Dining Hall On-site</strong></td>
                            <td class="column-data"><p ng-show="dorm.dininghall">Yes</p><p ng-hide="dorm.dininghall">No</p></td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Price</strong></td>
                            <td class="column-data">{{dorm.price | currency:$:0}} per quarter</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Doubles</strong></td>
                            <td class="column-data">{{dorm.double}}</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Singles</strong></td>
                            <td class="column-data">{{dorm.single}}</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Triples</strong></td>
                            <td class="column-data">{{dorm.triple}}</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Residents</strong></td>
                            <td class="column-data">{{dorm.single+dorm.double*2+dorm.triple*3}}</td>
                        </tr>
                        <tr>
                            <td class="column-name"><strong>Others</strong></td>
                            <td class="column-data">{{dorm.other}}</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div ng-show="isSet(2)">
                <div class="padding">
 <!--why this code doesn't work?
                    <p>
                        <strong>Socialness</strong>:
                        <div static-star-rating rating-value = "dorm.socialness" max=5></div>
                    </p>-->
                    <p>
                        <strong>Socialness</strong>:
                        <span class="review-data">
                            <button class="icon button-clear super-star" ng-show="dorm.socialness >= 1"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.socialness >= 2"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.socialness >= 3"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.socialness >= 4"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.socialness >= 5"></button>
                        </span>
                    </p>
                    <p>
                        <strong>Room Size</strong>:
                        <span class="review-data">
                            <button class="icon button-clear super-star" ng-show="dorm.roomsize >= 1"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.roomsize >= 2"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.roomsize >= 3"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.roomsize >= 4"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.roomsize >= 5"></button>
                        </span>
                    </p>
                    <p>
                        <strong>Rowdiness</strong>:
                        <span class="review-data">
                            <button class="icon button-clear super-star" ng-show="dorm.rowdiness >= 1"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.rowdiness >= 2"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.rowdiness >= 3"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.rowdiness >= 4"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.rowdiness >= 5"></button>
                        </span>
                    </p>
                    <p>
                        <strong>Bathrooms</strong>:
                        <span class="review-data">
                            <button class="icon button-clear super-star" ng-show="dorm.bathrooms >= 1"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.bathrooms >= 2"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.bathrooms >= 3"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.bathrooms >= 4"></button>
                            <button class="icon button-clear super-star" ng-show="dorm.bathrooms >= 5"></button>
                        </span>
                    </p>
                </div>
            </div>

            <div ng-show="isSet(3)">
                <div class="padding">
                    <div>
                        <p>No reviews for {{dorm.name}}.</p>
                        <p>Would you like to make a reivew for {{dorm.name}}?</p>
                    </div>
                </div>
            </div>

        </section>

    </div>
</div>
