<div ng-controller="DormPageController">

    <super-navbar>
        <super-navbar-button side="right" location="review#review?id={{dorm.id}}">Review</super-navbar-button>
        <super-navbar-title>
            {{dorm.name}}
        </super-navbar-title>
    </super-navbar>

    <link rel="stylesheet" href="styles/dormPage.css">

    <div>
        <div class="images">
            <img ng-src="{{dorm.img}}"/>
        </div>
        <div class="address">
            <a class="item item-icon-right" href="https://www.google.com/maps/place/{{dorm.address}}">
                {{dorm.address | uppercase}}<i class="icon super-map"></i>
            </a>
        </div>

        <section>

            <ul class="row">
                <li class="tab col col-33" ng-click="setTab(1)" ng-class="{ active: isSet(1) }">
                    <div><strong>Stats&Info</strong></div>
                </li>
                <li class="tab col col-33" ng-click="setTab(2)" ng-class="{ active: isSet(2) }">
                    <div><strong>Rating</strong></div>
                </li>
                <li class="tab col col-33" ng-click="setTab(3)" ng-class="{ active: isSet(3) }">
                    <div><strong>Reviews</strong></div>
                </li>
            </ul>

            <div ng-show="isSet(1)">
                <div class="infolist">
                    <ul>
                        <li class="row">
                            <p class="column-name"><strong>Location</strong></p>
                            <p class="column-data">{{dorm.location}} Campus</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Type</strong></p>
                            <p class="column-data">{{dorm.type}}</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Air Conditioning</strong></p>
                            <p class="column-data" ng-show="dorm.airconditioning">Yes</p>
                            <p class="column-data" ng-hide="dorm.airconditioning">No</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Dining Hall On-site</strong></p>
                            <p class="column-data" ng-show="dorm.dininghall">Yes</p>
                            <p class="column-data" ng-hide="dorm.dininghall">No</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Doubles</strong></p>
                            <p class="column-data">{{dorm.double}}</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Singles</strong></p>
                            <p class="column-data">{{dorm.single}}</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Triples</strong></p>
                            <p class="column-data">{{dorm.triple}}</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Residents</strong></p>
                            <p class="column-data">{{dorm.single+dorm.double*2+dorm.triple*3}}</p>
                        </li>
                        <li class="row">
                            <p class="column-name"><strong>Others</strong></p>
                            <p class="column-data">{{dorm.other}}</p>
                        </li>
                        <li class="price-title">
                            <p><strong>Price per Quarter</strong></p>
                        </li>
                        <li class="row" ng-show="dorm.pricesingleQ > 0">
                            <p class="column-name"><strong>Single</strong></p>
                            <p class="column-data">{{dorm.pricesingleQ | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.priceLsingleQ > 0">
                            <p class="column-name"><strong>Large Single</strong></p>
                            <p class="column-data">{{dorm.priceLsingleQ | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricesingleBathQ > 0">
                            <p class="column-name"><strong>Single w/ Bath</strong></p>
                            <p class="column-data">{{dorm.pricesingleBathQ | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricedoubleQ > 0">
                            <p class="column-name"><strong>Double</strong></p>
                            <p class="column-data">{{dorm.pricedoubleQ | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.ConDoubleQ > 0">
                            <p class="column-name"><strong>Connection Double</strong></p>
                            <p class="column-data">{{dorm.ConDoubleQ | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricedoubleBathQ > 0">
                            <p class="column-name"><strong>Double w/ Bath</strong></p>
                            <p class="column-data">{{dorm.pricedoubleBathQ | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricetripleQ > 0">
                            <p class="column-name"><strong>Triple</strong></p>
                            <p class="column-data">{{dorm.pricetripleQ | currency:$:0}}</p>
                        </li>
                        <li class="price-title">
                            <p><strong>Price for Full Academic Year</strong></p>
                        </li>
                        <li class="row" ng-show="dorm.pricesingleY > 0">
                            <p class="column-name"><strong>Single</strong></p>
                            <p class="column-data">{{dorm.pricesingleY | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.priceLsingleY > 0">
                            <p class="column-name"><strong>Large Single</strong></p>
                            <p class="column-data">{{dorm.priceLsingleY | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricesingleBathY > 0">
                            <p class="column-name"><strong>Single w/ Bath</strong></p>
                            <p class="column-data">{{dorm.pricesingleBathY | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricedoubleY > 0">
                            <p class="column-name"><strong>Double</strong></p>
                            <p class="column-data">{{dorm.pricedoubleY | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.ConDoubleY > 0">
                            <p class="column-name"><strong>Connection Double</strong></p>
                            <p class="column-data">{{dorm.ConDoubleY | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricedoubleBathY > 0">
                            <p class="column-name"><strong>Double w/ Bath</strong></p>
                            <p class="column-data">{{dorm.pricedoubleBathY | currency:$:0}}</p>
                        </li>
                        <li class="row" ng-show="dorm.pricetripleY > 0">
                            <p class="column-name"><strong>Triple</strong></p>
                            <p class="column-data">{{dorm.pricetripleY | currency:$:0}}</p>
                        </li>
                    </ul>

                </div>
            </div>

            <div ng-show="isSet(2)">
                <div class="padding">
 <!--why this code doesn't work?
                    <p>
                        <strong>Socialness</strong>:
                        <div static-star-rating rating-value = "dorm.socialness" max=5></div>
                    </p>-->
                    <p>
                        <strong>Socialness</strong>:
                        <span class="review-data">
                            <i class="icon super-star" ng-show="dorm.socialness >= 1"></i>
                            <i class="icon super-star" ng-show="dorm.socialness >= 2"></i>
                            <i class="icon super-star" ng-show="dorm.socialness >= 3"></i>
                            <i class="icon super-star" ng-show="dorm.socialness >= 4"></i>
                            <i class="icon super-star" ng-show="dorm.socialness >= 5"></i>
                        </span>
                    </p>
                    <p>
                        <strong>Room Size</strong>:
                        <span class="review-data">
                            <i class="icon super-star" ng-show="dorm.roomsize >= 1"></i>
                            <i class="icon super-star" ng-show="dorm.roomsize >= 2"></i>
                            <i class="icon super-star" ng-show="dorm.roomsize >= 3"></i>
                            <i class="icon super-star" ng-show="dorm.roomsize >= 4"></i>
                            <i class="icon super-star" ng-show="dorm.roomsize >= 5"></i>
                        </span>
                    </p>
                    <p>
                        <strong>Rowdiness</strong>:
                        <span class="review-data">
                            <i class="icon super-star" ng-show="dorm.rowdiness >= 1"></i>
                            <i class="icon super-star" ng-show="dorm.rowdiness >= 2"></i>
                            <i class="icon super-star" ng-show="dorm.rowdiness >= 3"></i>
                            <i class="icon super-star" ng-show="dorm.rowdiness >= 4"></i>
                            <i class="icon super-star" ng-show="dorm.rowdiness >= 5"></i>
                        </span>
                    </p>
                    <p>
                        <strong>Bathrooms</strong>:
                        <span class="review-data">
                            <i class="icon super-star" ng-show="dorm.bathrooms >= 1"></i>
                            <i class="icon super-star" ng-show="dorm.bathrooms >= 2"></i>
                            <i class="icon super-star" ng-show="dorm.bathrooms >= 3"></i>
                            <i class="icon super-star" ng-show="dorm.bathrooms >= 4"></i>
                            <i class="icon super-star" ng-show="dorm.bathrooms >= 5"></i>
                        </span>
                    </p>
                </div>
            </div>

            <div ng-show="isSet(3)">
                <div class="padding">
                    <div>
                        <p>No reviews for {{dorm.name}}.</p>
                        <p>Would you like to make a reivew for {{dorm.name}}?</p>
                    </div>
                </div>
            </div>

        </section>
    </div>
</div>
